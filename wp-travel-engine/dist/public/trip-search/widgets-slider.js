(()=>{var t={420:()=>{window.wteL10n=window.wteL10n||{},window.wteL10n.api=window.wteapi=window.WTEApi=class{constructor(){}static async get(t,e={},i={}){let n={packages:this.getPackages,categories:this.getPackageCategories,trip:this.getTrip};return wteL10n.locale&&(e.lang=wteL10n.locale),this[t]||(this[t]="trip"==t?await n[t](e,i):lodash.keyBy(await n[t](e,i),"id")),this[t]}static async getTrip(t,e){const i=await fetch(`${wteL10n.wpapi.root+wteL10n.wpapi.versionString}trip/${t.id}?context=${t.context||"view"}`,e);return await i.json()}static async getPackageCategories(t){const e=await fetch(`${wteL10n.wpapi.root+wteL10n.wpapi.versionString}package-categories?per_page=100`);return await e.json()}static async getPackages(t,e){var i;const n=Object.entries(t).map((([t,e])=>`${t}=${e}`)).join("&"),s=await fetch(`${wteL10n.wpapi.root+wteL10n.wpapi.versionString}packages/${null!==(i=t.id)&&void 0!==i?i:`?${n}`}`,e);return await s.json()}static async addNewPackage(t){const e=await fetch(`${wteL10n.wpapi.root+wteL10n.wpapi.versionString}packages`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":wteL10n.wpapi.nonce},body:JSON.stringify({title:"Untitled Package",status:"publish",post_type:"trip-packages",...t})});return await e.json()}static async removePackage(t){const e=await fetch(`${wteL10n.wpapi.root+wteL10n.wpapi.versionString}packages/${t.id}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-WP-Nonce":wteL10n.wpapi.nonce}});return await e.json()}}},1778:(t,e,i)=>{"use strict";function n(){}i.d(e,{A:()=>s}),n.hasClass=function(t,e){return t.classList?t.classList.contains(e):!!t.getAttribute("class").match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},n.addClass=function(t,e){var i=e.split(" ");t.classList?t.classList.add(i[0]):n.hasClass(t,i[0])||t.setAttribute("class",t.getAttribute("class")+" "+i[0]),i.length>1&&n.addClass(t,i.slice(1).join(" "))},n.removeClass=function(t,e){var i=e.split(" ");if(t.classList)t.classList.remove(i[0]);else if(n.hasClass(t,i[0])){var s=new RegExp("(\\s|^)"+i[0]+"(\\s|$)");t.setAttribute("class",t.getAttribute("class").replace(s," "))}i.length>1&&n.removeClass(t,i.slice(1).join(" "))},n.toggleClass=function(t,e,i){i?n.addClass(t,e):n.removeClass(t,e)},n.setAttributes=function(t,e){for(var i in e)t?.setAttribute&&t.setAttribute(i,e[i])},n.getChildrenByClassName=function(t,e){t.children;for(var i=[],s=0;s<t.children.length;s++)n.hasClass(t.children[s],e)&&i.push(t.children[s]);return i},n.getIndexInArray=function(t,e){return Array.prototype.indexOf.call(t,e)},n.on=function(t,e,i){document.addEventListener(t,(function(t){for(var n=t.target;n&&n!=this;n=n.parentNode)if(n.matches(e)){i.call(n,t);break}}),!1)};const s=n},4708:(t,e,i)=>{"use strict";i.d(e,{X:()=>v});var n={};i.r(n),i.d(n,{calculateGrandTotal:()=>c,numberFormat:()=>d,phpToMomentDF:()=>p,priceFormat:()=>m,wteGetFormatedPrice:()=>a,wteGetFormatedPriceWithCurrencyCode:()=>r,wteGetFormatedPriceWithCurrencyCodeSymbol:()=>o,wteGetFormatedPriceWithCurrencySymbol:()=>l});var s=i(1778);function a(t,e,i){return t=t||0,e=e||!0,i=i||0,"undefined"!=typeof WTE_CC_convData&&WTE_CC_convData.rate&&(t*=parseFloat(WTE_CC_convData.rate)),0==e?t:(t=(t=(t=parseFloat(t)).toFixed(i)).replace(".00",""),t=addCommas(t))}function r(t,e,i,n){return wteL10n.priceFormat(t).format(!0,!!i)}function o(t,e,i,n,s){return wteL10n.priceFormat(t).format(!1,!!n)}function l(t,e,i,n){return wteL10n.priceFormat(t).format(!1,!!i)}function c(){return parseFloat(window.wte.trip.travellersCost)+parseFloat(window.wte.trip.extraServicesCost)}function d(t,e=2,i=".",n=",",s=!0,a=!1){try{e=Math.abs(e),e=isNaN(e)?2:e;const r=t<0?"-":"";if(s){const e=Math.abs(Number(t)||0),{integerPart:s,decimalPart:a}=h(e.toString());let o="";if(a){const t=a.replace(/0+$/,"");t&&(o=i+t)}return r+u(s,n)+o}{let s=Math.abs(Number(t)||0);if(a)s=parseFloat(s.toFixed(e));else{const t=Math.pow(10,e);s=Math.floor(s*t)/t}const{integerPart:o,decimalPart:l}=h(s.toString()),c=u(o,n);let d=function(t,e,i){return e>0&&t?i+t.padEnd(e,"0").substr(0,e):e>0?i+"0".repeat(e):""}(l,e,i);return d&&(d=d.replace(/0+$/,""),d===i&&(d="")),r+c+d}}catch(t){console.log(t)}}function h(t){const e=t.split(".");return{integerPart:e[0],decimalPart:e[1]||""}}function u(t,e){const i=t,n=i.length>3?i.length%3:0;return(n?i.substr(0,n)+e:"")+i.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+e)}function m(t,e,i,n="%CURRENCY_SYMBOL%%FORMATED_AMOUNT%",s=2,a=".",r=",",o=!1,l=!1){t<0&&(n.includes("%AMOUNT%")||n.includes("%FORMATED_AMOUNT%"))&&(t=Math.abs(t),n="-"+n);let c=!0;isNaN(s)||(c=!1),["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VND","VUV","XAF","XOF","XPF"].includes(e)&&(s=0,c=!1,l=!0);let h={"%CURRENCY_CODE%":o?e:`<span class="wpte-currency-code currency">${e}</span>`,"%CURRENCY_SYMBOL%":o?i:`<span class="wpte-currency-code currency">${i}</span>`,"%AMOUNT%":o?t:`<strong class="wpte-price amount">${t}</strong>`,"%FORMATED_AMOUNT%":o?d(t,s,a,r,c,l):`<strong class="wpte-price amount">${d(t,s,a,r,c,l)}</strong>`};return n.split(/(%\w+%)/g).reduce(((t="",e)=>{const i=h[e];return i||0===i?t+i:t+e}))}function p(t){let e={d:"DD",D:"ddd",j:"D",l:"dddd",w:"d",F:"MMMM",M:"MMM",m:"MM",n:"M",S:"o",jS:"Do",Y:"YYYY",y:"YY"};return t.match(/(\\?\\?[\w\W])/g)?.map((t=>e[t]||t)).join("")}i(420),window.wteL10n.util=window.wteutil=s.A,window.wteL10n.ui=window.wteui=window.wteL10n.ui||{},window.wteL10n.ui.Accordion=window.wteui.Accordion=class{constructor(t){this.element=t,s.A.addClass(this.element,"wte-accordion-initialized"),this.items=s.A.getChildrenByClassName(this.element,"wte-accordion-item"),this.version=this.element.getAttribute("data-version")?"-"+this.element.getAttribute("data-version"):"",this.showClass="wte-accordion-open",this.animateHeight="on"==this.element.getAttribute("data-animation"),this.multiItems=!("off"==this.element.getAttribute("data-multi-items")),this.deepLinkOn="on"==this.element.getAttribute("data-deep-link"),this.initAccordion()}initAccordion(){for(var t=0;t<this.items.length;t++){var e=this.items[t].getElementsByClassName("wte-accordion-button")[0];if(e){var i=this.items[t].getElementsByClassName("wte-accordion-collapse")[0],n=s.A.hasClass(this.items[t],this.showClass)?"true":"false";s.A.setAttributes(e,{"aria-expanded":n,"aria-controls":"accordion-content-"+t,id:"accordion-header-"+t}),s.A.addClass(e,"wte-accordion-trigger"),s.A.setAttributes(i,{"aria-labelledby":"accordion-header-"+t,id:"accordion-content-"+t})}}this.initAccordionEvents(),this.initDeepLink()}initAccordionEvents(){var t=this;this.element.addEventListener("click",(function(e){var i=e.target.closest(".wte-accordion-trigger");i&&s.A.getIndexInArray(t.items,i.closest(".wte-accordion-item"))>=0&&t.triggerAccordion(i)}))}triggerAccordion(t){var e="true"===t.getAttribute("aria-expanded");this.animateAccordion(t,e,!1),!e&&this.deepLinkOn&&history.replaceState(null,"","#"+t.getAttribute("aria-controls"))}animateAccordion(t,e,i){var n=t.closest(".wte-accordion-item"),a=n.getElementsByClassName("wte-accordion-collapse")[0],r=e?"false":"true";s.A.toggleClass(n,this.showClass,!e),t.setAttribute("aria-expanded",r),a&&this.resetContentVisibility(n,a,e),(!this.multiItems&&!e||i)&&this.closeSiblings(n)}resetContentVisibility(t,e,i){s.A.toggleClass(t,this.showClass,!i),e.removeAttribute("style"),i&&!this.multiItems&&this.moveContent()}closeSiblings(t){for(var e=s.A.getIndexInArray(this.items,t),i=0;i<this.items.length;i++)if(s.A.hasClass(this.items[i],this.showClass)&&i!=e)return this.animateAccordion(this.items[i].getElementsByClassName("wte-accordion-trigger")[0],!0,!1),!1}moveContent(){var t=this.element.getElementsByClassName(this.showClass);if(0!=t.length){var e=t[0].getBoundingClientRect();if(e.top<0||e.top>window.innerHeight){var i=window.scrollY||document.documentElement.scrollTop;window.scrollTo(0,e.top+i)}}}initDeepLink(){if(this.deepLinkOn){var t=window.location.hash.substr(1);if(t&&""!=t){var e=this.element.querySelector('.wte-accordion-trigger[aria-controls="'+t+'"]');e&&"true"!==e.getAttribute("aria-expanded")&&(this.animateAccordion(e,!1,!0),setTimeout((function(){e.scrollIntoView(!0)})))}}}},window.wteL10n.helpers=window.wtehelpers=n,window.addCommas||(window.addCommas=t=>{for(var e=(t+="").split("."),i=e[0],n=e.length>1?"."+e[1]:"",s=/(\d+)(\d{3})/;s.test(i);)i=i.replace(s,"$1"+WPTE_Price_Separator+"$2");return i+n}),window.wteGetFormatedPrice=a,window.wteGetFormatedPriceWithCurrencyCode=r,window.wteGetFormatedPriceWithCurrencyCodeSymbol=o,window.wteGetFormatedPriceWithCurrencySymbol=l,window.calculateGrandTotal=c;const f=function(t){const{currency:e,baseCurrency:i,currencySymbol:n,format:{number:s,price:a}}=wteL10n;let r={"%CURRENCY_CODE%":`${e}`,"%CURRENCY_SYMBOL%":`${n}`,"%AMOUNT%":""+(t*=+{[i]:1}[e]),"%FORMATED_AMOUNT%":`${d(t,+s.decimal,s.decimalSeparator,s.thousansSeparator,!0,format.enableRound)}`};return a.split(/(%\w+%)/g).reduce(((t="",e)=>r[e]?t+r[e]:t+e))};s.A.on("click",".wte-popper button",(function(t){let e=this.closest(".wte-popper");e&&s.A.toggleClass(e,"active",!s.A.hasClass(e,"active"))}));const g=function(t){if(!s.A.hasClass(t,"wte-price-field")){let e=t.parentElement,i=document.createElement("input");i.type="hidden",i.name=t.name,i.value=t.value,t.name="",t.value=f(t.value),e.appendChild(i),t.addEventListener("focus",(function(){t.value=i.value})),t.addEventListener("blur",(function(){i.value=t.value,t.value=f(t.value)})),t.classList.add("wte-price-field")}};function w(t){var e=wteL10n.version,i=document.querySelectorAll("[class*=_wte_update_notice_], [data-wte-update]");if(i)for(var n in i){var s=i[n];if(s.classList)if(s.classList.contains(`_wte_update_notice_${e}`))s.classList.remove(`_wte_update_notice_${e}`);else{var a=new RegExp(`^(wte_(new|updated|note)_${e})$`);if(s.dataset.wteUpdate.match(a)){var r=s.dataset.wteUpdate;s.classList.add(r),s.removeAttribute("data-wte-update")}}}}window.wteL10n.ui.priceField=g,document.addEventListener("wteEditPackageRender",(function(){document.querySelectorAll('[data-wte-field-type="price"]')?.forEach((function(t){g(t)}))})),s.A.on("change","[data-toggle-target]",(function(t){let e=document.querySelector(this.dataset.toggleTarget);e&&(this.checked?e.style.removeProperty("display"):e.style.display="none")})),s.A.on("click",".wpte-edit-booking-detail",(function(t){t.preventDefault(),this.closest(".wpte-block").querySelectorAll("select, input").forEach((function(t){t.dataset.attribName&&(t.name=t.dataset.attribName),t.dataset.attribValue&&(t.value=t.dataset.attribValue),t.dataset.attribType&&(t.type=t.dataset.attribType),t.disabled&&(t.disabled=!1),t.type&&(t.readOnly=!1)})),this.closest(".wpte-block").querySelectorAll(".show_on_edit").forEach((function(){this.style.removeProperty("display")}))})),s.A.on("click",".wpte-edit-additional-note",(function(t){t.preventDefault(),this.closest(".wpte-block").querySelectorAll("select, input").forEach((function(t){t.dataset.attribName&&(t.name=t.dataset.attribName),t.dataset.attribValue&&(t.value=t.dataset.attribValue),t.dataset.attribType&&(t.type=t.dataset.attribType),t.disabled&&(t.disabled=!1),t.type&&(t.readOnly=!1)})),this.closest(".wpte-block").querySelectorAll(".show_on_edit").forEach((function(){this.style.removeProperty("display")}))})),s.A.on("click",".wte-email-template-updater",(function(t){t.preventDefault();var e=document.getElementById(this.dataset.target);e&&e.submit()})),document.addEventListener("wteSettingsTabContentLoaded",w),document.addEventListener("DOMContentLoaded",(t=>{w();var e=document.querySelectorAll(".wte-code");e&&e.forEach((function(t){t.dataset.height&&(t.style.height=t.dataset.height+"px"),hljs&&hljs.highlightBlock(t)})),s.A.on("click",".wte-onclick-toggler",(function(t){if(t.preventDefault(),this.dataset.target){var e=document.querySelector(this.dataset.target);e&&(Array.from(e.classList).includes("visible")?(e.classList.remove("visible"),e.style.display="none"):(e.style.removeProperty("display"),e.classList.add("visible")))}}))})),window.wteL10n=window.wteL10n||{};const y=function(t){this._value=t,this._getPriceFormat=function(){return wteL10n.format.price},this.get=function(){return this._value},this.format=function(t=!1,e=!0){const{currency:i,baseCurrency:n,currencySymbol:s,baseCurrencySymbol:a,format:{number:r,price:o,enableRound:l}}=wteL10n;let c={[n]:1};if("undefined"!=typeof wteCc&&wteCc?.code&&e)for(let t in wteCc.code)c={...c,[wteCc.code[t]]:wteCc.rate[t]};let d=+this._value*(e?+c[i]:1),h=+r.decimal;return wtehelpers.priceFormat(d,e?i:n,e?s:a,o,h,r.decimalSeparator,r.thousandSeparator,t,l)}},v=function(t){return new y(t)};window.wteL10n.priceFormat=window.wteL10n.priceFormat||v;const E=function(t){this._time=t,this.get=function(){return this._time},this.set=function(t){this._time=t},this._getTimeFormat=function(){return wteL10n.helpers.phpToMomentDF(wteL10n.format.datetime.date)},this.format=function(t=null,e=!1){if(wteL10n.format.datetime.timezone,!this._time)return this._time;if(t)return moment(this._time).format(t);let i=moment(this._time).format(this._getTimeFormat());return i+=e?" at "+moment(this._time).format("h:mm A"):"",i},this.getDatewithOffset=function(t){if(this._time){let e=moment(this._time).utc().format("YYYY-MM-DDTHH:mm:ss")+t;return new Date(e)}}};window.wteL10n.dateFormat=window.wteL10n.dateFormat||function(t){return new E(t)}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,i),a.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=i(4708);class e{element=null;config={min:0,max:100,value:0,values:[25,75],step:1,range:!1,slide:null,doSlideFirst:!0};handles=[];rangeEl=null;animationFrame=null;_originalMin=null;_originalMax=null;_originalValue=null;_originalValues=null;constructor(t,e){if(t._mySlider)return t._mySlider;this.element=t,this.config={...this.config,...e},this._originalValues=this.config.range?[...this.config.values]:[this.config.min,this.config.max],this._originalMin=this._originalValues[0],this._originalMax=this._originalValues[1],this._originalValue=this.config.value,this.#t(),t._mySlider=this}#t(){const t=this.element,e=!0===this.config.range;t.classList.add("ui-slider","ui-slider-horizontal","ui-widget","ui-widget-content","ui-corner-all"),t.style.position="relative";const i=document.createElement("div");i.className="ui-slider-range ui-corner-all ui-widget-header",t.appendChild(i),this.rangeEl=i;const n=()=>{const e=document.createElement("span");e.className="ui-slider-handle ui-corner-all ui-state-default",e.setAttribute("tabindex","0"),e.style.position="absolute",t.appendChild(e),this.handles.push(e)};n(),e&&n(),this.handles.forEach(((t,e)=>this.#e(t,e))),this.#i(),this.config.doSlideFirst&&this.#n()}#e(t,e){let i=null,n=!1;const s=t=>{n&&(i||(i=requestAnimationFrame((()=>{i=null;const n=this.element.getBoundingClientRect(),s=(t=>t.touches?.[0]?.clientX||t.clientX)(t),a=Math.min(Math.max(0,(s-n.left)/n.width),1),r=this.config.min+a*(this.config.max-this.config.min),o=r===this.config.min?this.config.min:r===this.config.max?this.config.max:Math.round(r/this.config.step)*this.config.step;!0===this.config.range?(this.config.values[e]=o,0===e&&o>this.config.values[1]&&(this.config.values[0]=this.config.values[1]),1===e&&o<this.config.values[0]&&(this.config.values[1]=this.config.values[0]),this.handles[e].style.zIndex=2,this.handles[e?0:1].style.zIndex=1):this.config.value=o,this._isDefault=!1,this.#i(),this.#n()}))))},a=()=>{n=!1,document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a),document.removeEventListener("touchmove",s),document.removeEventListener("touchend",a),"function"==typeof this.config.stopped&&this.config.stopped(null,{value:this.config.value,values:this.config.values})},r=t=>{t.preventDefault(),n=!0,document.addEventListener("mousemove",s),document.addEventListener("mouseup",a),document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("touchend",a)};t.addEventListener("mousedown",r),t.addEventListener("touchstart",r,{passive:!1})}#i(){const t=this.config,e=e=>(e-t.min)/(t.max-t.min)*100;if(!0===t.range){const[i,n]=t.values,s=e(i),a=e(n);this.handles[0].style.left=`${s}%`,this.handles[1].style.left=`${a}%`,this.rangeEl.style.left=`${s}%`,this.rangeEl.style.width=a-s+"%"}else{const i=e(t.value);this.handles[0].style.left=`${i}%`,"min"===t.range?(this.rangeEl.style.left="0%",this.rangeEl.style.width=`${i}%`):"max"===t.range?(this.rangeEl.style.left=`${i}%`,this.rangeEl.style.width=100-i+"%"):this.rangeEl.style.width="0%"}}#n(){"function"==typeof this.config.slide&&this.config.slide(null,{value:this.config.value,values:this.config.values})}option(t,e){if(1===arguments.length)return this.config[t];2===arguments.length&&(this.config[t]=e,this.#i())}getValues(){return this.config.range?this.config.values:this.config.value}reset(){this.config.min=this._originalMin,this.config.max=this._originalMax,!0===this.config.range&&Array.isArray(this._originalValues)?this.config.values=[...this._originalValues]:this.config.value=this._originalValue,this.#i(),this.#n()}isDefault(){return this.config.min===this._originalMin&&this.config.max===this._originalMax&&this.config.value===this._originalValue&&JSON.stringify(this.config.values)===JSON.stringify(this._originalValues)}}class n{static selectorStore=new Map;static staticStore=new Map;static methods={};constructor(t){if(n.selectorStore.has(t))return n.selectorStore.get(t);this.elements=[...new Set(n.getElements(t))],this.store=new Map,n.selectorStore.set(t,this)}static getElements(t){let e=[];return e="string"==typeof t?[...document.querySelectorAll(t)]:Array.isArray(t)?t.flatMap((t=>[...document.querySelectorAll(t)])):[t],0===e.length?[]:e}getElements(){return this.elements}get element(){return this.elements[0]||null}#s(t){this.getElements().forEach(t)}#a(t){return this.getElements().flatMap(t)}each(t){return this.#s(t),this}refresh(){const t=[...n.selectorStore.entries()].find((([,t])=>t===this))?.[0];if(!t)return this;n.selectorStore.delete(t);let e=[];return"string"==typeof t?e=[...document.querySelectorAll(t)]:Array.isArray(t)?e=t.flatMap((t=>[...document.querySelectorAll(t)])):t instanceof Element&&(e=[t]),this.elements=[...new Set(e)],n.selectorStore.set(t,this),this}static decodeText(t){return(new DOMParser).parseFromString(t,"text/html").body.textContent}static ready(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}static ajax({url:t,method:e="GET",data:i={},headers:n={},success:s=()=>{},error:a=()=>{},complete:r=()=>{},beforeSend:o=()=>{},timeout:l=0,dataType:c="json",cache:d=!0,crossDomain:h=!1,withCredentials:u=!1}){o();const m={method:e,headers:{"Content-Type":"application/x-www-form-urlencoded",...n},body:"GET"===e.toUpperCase()?null:new URLSearchParams(i),timeout:l,credentials:u?"include":"same-origin"};d||(m.headers["Cache-Control"]="no-cache",m.headers.Pragma="no-cache"),h&&(m.headers["Access-Control-Allow-Origin"]="*"),["GET","DELETE"].includes(e.toUpperCase())&&(t+=`?${new URLSearchParams(i).toString()}`,m.body=null),fetch(t,m).then((t=>{if(!t.ok)throw new Error(`HTTP error! ${t.status}`);return t.json()})).then((t=>(s(t),{success:!0,data:t,error:null}))).catch((t=>(a(t),{success:!1,data:null,error:t}))).then(r)}static hide(t,e=t.parentElement,i=t.nextSibling){t&&t instanceof Element&&!n.staticStore.has(t)&&e&&(n.staticStore.set(t,{parent:e,next:i}),t.remove())}static show(t,e="insertBefore"){if(!n.staticStore.has(t))return;const{parent:i,nextSibling:s}=n.staticStore.get(t);if(i){switch(e){case"insertBefore":i.insertBefore(t,s);break;case"appendChild":i.appendChild(t);break;case"prepend":i.prepend(t);break;default:throw new Error(`Unsupported DOM insert method: ${e}`)}n.staticStore.delete(t)}}static registerMethod(t,e){this.methods[t]=e.bind(this),this.prototype[t]=function(...t){return e.apply(this,t)}}use(t,...e){if("function"==typeof this[t])return this[t](...e);if(this.methods[t])return this.methods[t](...e);throw new Error(`Method "${t}" is not defined.`)}isFound(){return this.elements.length>0}find(t){const e=this.#a((e=>[...e.querySelectorAll(t)]));return new n([...new Set(e)])}iterateMatches(t,e){return this.#s((i=>{i.querySelectorAll(t).forEach((t=>{t=new n(t),e(t,i)}))})),this}call(t,e){const i=[];return this.#s((n=>{const s=n?.[t];"function"==typeof s?i.push(s.call(n,e?.(n))):"function"==typeof t&&i.push(t.call(n,n))})),i.length?i:this}parent(){return this.elements[0].parentElement}closest(t){return this.elements[0].closest(t)}siblings(){const t=this.parent();return new n(t?[...t.children].filter((t=>!this.elements.includes(t))):[])}css(t,e){if("object"==typeof t)this.#s((e=>{for(let i in t){const[n,s]=t[i].split(" !");e.style.setProperty(i,n,"important"===s?"important":"")}}));else{const[i,n]=e.split(" !");this.#s((e=>e.style.setProperty(t,i,"important"===n?"important":"")))}return this}hasClass(t){return this.call("some",(e=>e.classList.contains(t)))}addClass(t){const e=Array.isArray(t)?t:t.split(/\s+/);return this.#s((t=>t.classList.add(...e))),this}removeClass(t){const e=Array.isArray(t)?t:t.split(/\s+/);return this.#s((t=>t.classList.remove(...e))),this}hide(){return this.#s((t=>{this.store.has(t)||(this.store.set(t,{parent:t.parentNode,nextSibling:t.nextSibling}),t.remove())})),this}show(){return this.store.forEach((({parent:t,nextSibling:e},i)=>{t&&(t.insertBefore(i,e),this.store.delete(i))})),this}dispatch(t,e={},i={}){return this.#s((n=>{let s;if("string"==typeof t)s=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0,...i});else{if(!(t instanceof Event))throw new Error("Invalid event type for dispatch");s=t}n.dispatchEvent(s)})),this}on(t,e,i={}){const n=Array.isArray(t)?t:t.split(/\s*,\s*/);return this.#s((t=>{n.forEach((n=>t.addEventListener(n,e,i)))})),this}prepend(t){return this.#s((e=>e.innerHTML=t+e.innerHTML)),this}append(t){return this.#s((e=>e.innerHTML+=t)),this}html(t){return void 0===t?this.elements[0]?.innerHTML:(this.#s((e=>e.innerHTML=t)),this)}text(t){return void 0===t?this.elements[0]?.textContent:(this.#s((e=>e.textContent=t)),this)}attr(t,e){return t?.startsWith("data-")?this.data(t.slice(5),e):void 0===e?this.elements[0]?.getAttribute(t):(this.#s((i=>i.setAttribute(t,e))),this)}removeAttr(t){return this.#s((e=>e.removeAttribute(t))),this}val(t){return void 0===t?this.elements[0]?.value:(this.#s((e=>e.value=t)),this)}data(t,e){return void 0===e?this.elements[0]?.dataset?.[t]:(this.#s((i=>i.dataset[t]=e)),this)}removeData(t){return this.#s((e=>delete e.dataset[t])),this}fadeIn(t=300,e="block"){return this.#s((i=>{i.style.opacity=0,i.style.display=e,i.style.transition=`opacity ${t}ms ease`,requestAnimationFrame((()=>i.style.opacity=1))})),this}fadeOut(t=300){return this.#s((e=>{e.style.transition=`opacity ${t}ms ease`,e.style.opacity=1,requestAnimationFrame((()=>e.style.opacity=0)),setTimeout((()=>e.style.display="none"),t)})),this}slideDown(t=300){return this.#s((e=>{parseFloat(getComputedStyle(e).height)>0||(e.classList.add("toggle-active"),e.style.height=`${e.scrollHeight}px`,this.timeOut=setTimeout((()=>{e.style.overflow="visible"}),t))})),this}slideUp(t=300){return clearTimeout(this.timeOut),this.#s((t=>{t.classList.remove("toggle-active"),t.style.overflow="hidden",t.style.height="0px"})),this}slideToggle(t=300,e){return this.#s((i=>{parseFloat(getComputedStyle(i).height)>0?(this.slideUp(t),e?.(!1)):(this.slideDown(t),e?.(!0))})),this}stop(){return this.#s((t=>{t?._mySlider?.animationFrame&&cancelAnimationFrame(t._mySlider.animationFrame).height.forEach((e=>t.style.removeProperty(e)))})),this}}function s(t){const e=n.getElements(t);return new n(t,e||[])}const a=new Proxy(s,{get(t,e){if(e in n&&"function"==typeof n[e])return(...t)=>n[e](...t)},apply:(t,e,i)=>s(...i)});a("[data-range-slider]").isFound()&&a("[data-range-slider]").each((i=>{const s=i.querySelector(i?.dataset?.rangeSlider),r=s?.closest(".wpte__select-field");if(!s||!r)return;const o=i.dataset.range?.split(",").map((t=>+t)),l="price"===i.dataset.valueFormat;!function(t,i,...s){const a=new n(t),r=a.elements[0];if(r){if("option"===i){const t=r._mySlider;if(!t)return;if(1===s.length)return t.option(s[0]);if(2===s.length)return a.each((t=>{t._mySlider?.option(s[0],s[1])})),a}a.each((t=>{t._mySlider||(t._mySlider=new e(t,"object"==typeof i?i:s[0]||{}))})),n.registerMethod("getValues",(()=>{const t=[];return a.each((e=>e._mySlider&&t.push(e._mySlider.getValues()))),t})),n.registerMethod("reset",(()=>a.each((t=>t._mySlider&&t._mySlider.reset())))),n.registerMethod("isDefault",(()=>a.elements.every((t=>t._mySlider?.isDefault()))))}}(s,{range:!0,min:i.dataset.min?.length>0?+i.dataset.min:o[0],max:i.dataset.max?+i.dataset.max:o[1],values:o,slide:(e,{values:[n,s]})=>{r.querySelector(".wpte__input-min").value=n,r.querySelector(".wpte__input-max").value=s;const o=r.querySelector("[data-value-min-display]"),c=r.querySelector("[data-value-max-display]"),d=l?(0,t.X)(n).format(!0):n+" "+(i.dataset.suffix||""),h=l?(0,t.X)(s).format(!0):s+" "+(i.dataset.suffix||"");o.innerHTML=d,c.innerHTML=h,r.querySelector(".wpte__input").value=a.decodeText(`${d} - ${h}`)}})}))})()})();